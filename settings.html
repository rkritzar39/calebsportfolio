<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Customize your experience. Toggle dark mode, accessibility features, and more." />
  <title>Settings - Caleb's Profile</title>

  <link rel="stylesheet" href="settings.css" />
  <link rel="stylesheet" href="style.css" />

  <script>
  // This script runs instantly to apply a user's specific theme choice,
  // overriding the CSS default if necessary.
  (function() {
    try {
      const storedSettings = localStorage.getItem('websiteSettings');
      if (!storedSettings) return;

      const settings = JSON.parse(storedSettings);
      
      if (settings.appearanceMode === 'dark') {
        document.documentElement.classList.add('dark-mode');
      } else if (settings.appearanceMode === 'light') {
        document.documentElement.classList.add('light-mode');
      }
    } catch (e) {
      console.error("Flicker-prevention script error:", e);
    }
  })();
  </script>
  
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="manifest" href="/site.webmanifest">
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"/>
</head>

<body class="settings-page">
  <div class="scroll-indicator" id="scrollIndicator"></div>

  <main class="container" id="main-content">
    <div class="settings-section">
      <div class="settings-header">
        <h1>Settings</h1>
        <span class="version">v26.1.2</span>
      </div>

      <div class="settings-subsection animate-slide-in">
        <h2 class="subsection-title">Appearance</h2>

        <div class="setting-card">
          <div class="setting-label">
            <strong class="setting-title">Appearance Mode</strong>
            <p class="setting-description">Choose light, dark, or follow your device setting.</p>
          </div>
          <div class="segmented-control" id="appearanceModeControl">
            <button type="button" data-value="device">Device</button>
            <button type="button" data-value="light">Light</button>
            <button type="button" data-value="dark">Dark</button>
          </div>
        </div>

        <div class="setting-card accent-color-card">
          <label for="accentColorPicker" class="setting-label">
            <strong class="setting-title">Accent Color</strong>
            <p class="setting-description">Pick a custom highlight color.</p>
          </label>
          <div class="accent-picker-container">
            <input
              type="color"
              id="accentColorPicker"
              value="#007AFF"
              aria-label="Choose accent color"
            />
            <div id="accentColorPreview" class="accent-color-preview"></div>
          </div>
          <div id="whiteAccentWarning" class="color-warning" style="display: none;">
            Warning: Using a white or very light accent color may cause visibility issues in some parts of the website in light mode.
          </div>
        </div>
      </div>

      <div class="settings-subsection animate-slide-in">
        <h2 class="subsection-title">General</h2>
        <label class="setting-card" for="rearrangingEnabledToggle">
          <div class="setting-label">
            <strong class="setting-title">Enable Section Rearranging</strong>
            <p class="setting-description">Allow drag-and-drop to reorder sections on the homepage.</p>
          </div>
          <div class="md-switch">
            <input type="checkbox" id="rearrangingEnabledToggle" role="switch" aria-label="Toggle section rearranging" />
            <div class="track"><div class="thumb"></div></div>
          </div>
        </label>
        <div class="setting-card">
            <div class="setting-label">
                <strong class="setting-title">Reset Section Layout</strong>
                <p class="setting-description">Revert the homepage section order to the default layout.</p>
            </div>
            <button id="resetLayoutBtn" class="button reset-button">Reset</button>
        </div>
      </div>

      <div class="settings-subsection animate-slide-in">
        <h2 class="subsection-title">Homepage Sections</h2>

        <label class="setting-card" for="showSocialLinksToggle">
          <div class="setting-label"><strong class="setting-title">Social Links</strong></div>
          <div class="md-switch">
            <input type="checkbox" id="showSocialLinksToggle" role="switch" aria-label="Toggle Social Links Section"/>
            <div class="track"><div class="thumb"></div></div>
          </div>
        </label>
        <label class="setting-card" for="showPresidentSectionToggle">
          <div class="setting-label"><strong class="setting-title">President Section</strong></div>
          <div class="md-switch">
            <input type="checkbox" id="showPresidentSectionToggle" role="switch" aria-label="Toggle President Section"/>
            <div class="track"><div class="thumb"></div></div>
          </div>
        </label>
        <label class="setting-card" for="showTiktokShoutoutsToggle">
          <div class="setting-label"><strong class="setting-title">TikTok Shoutouts</strong></div>
          <div class="md-switch">
            <input type="checkbox" id="showTiktokShoutoutsToggle" role="switch" aria-label="Toggle TikTok Shoutouts Section"/>
            <div class="track"><div class="thumb"></div></div>
          </div>
        </label>
        <label class="setting-card" for="showInstagramShoutoutsToggle">
          <div class="setting-label"><strong class="setting-title">Instagram Shoutouts</strong></div>
          <div class="md-switch">
            <input type="checkbox" id="showInstagramShoutoutsToggle" role="switch" aria-label="Toggle Instagram Shoutouts Section"/>
            <div class="track"><div class="thumb"></div></div>
          </div>
        </label>
        <label class="setting-card" for="showYoutubeShoutoutsToggle">
          <div class="setting-label"><strong class="setting-title">YouTube Shoutouts</strong></div>
          <div class="md-switch">
            <input type="checkbox" id="showYoutubeShoutoutsToggle" role="switch" aria-label="Toggle YouTube Shoutouts Section"/>
            <div class="track"><div class="thumb"></div></div>
          </div>
        </label>
        <label class="setting-card" for="showUsefulLinksToggle">
          <div class="setting-label"><strong class="setting-title">Useful Links</strong></div>
          <div class="md-switch">
            <input type="checkbox" id="showUsefulLinksToggle" role="switch" aria-label="Toggle Useful Links Section"/>
            <div class="track"><div class="thumb"></div></div>
          </div>
        </label>
        <label class="setting-card" for="showCountdownToggle">
          <div class="setting-label"><strong class="setting-title">Countdown</strong></div>
          <div class="md-switch">
            <input type="checkbox" id="showCountdownToggle" role="switch" aria-label="Toggle Countdown Section"/>
            <div class="track"><div class="thumb"></div></div>
          </div>
        </label>
        <label class="setting-card" for="showBusinessSectionToggle">
          <div class="setting-label"><strong class="setting-title">Business Section</strong></div>
          <div class="md-switch">
            <input type="checkbox" id="showBusinessSectionToggle" role="switch" aria-label="Toggle Business Section"/>
            <div class="track"><div class="thumb"></div></div>
          </div>
        </label>
        <label class="setting-card" for="showTechInformationToggle">
          <div class="setting-label"><strong class="setting-title">Tech Information</strong></div>
          <div class="md-switch">
            <input type="checkbox" id="showTechInformationToggle" role="switch" aria-label="Toggle Tech Information Section"/>
            <div class="track"><div class="thumb"></div></div>
          </div>
        </label>
        <label class="setting-card" for="showDisabilitiesSectionToggle">
          <div class="setting-label"><strong class="setting-title">Disabilities Section</strong></div>
          <div class="md-switch">
            <input type="checkbox" id="showDisabilitiesSectionToggle" role="switch" aria-label="Toggle Disabilities Section"/>
            <div class="track"><div class="thumb"></div></div>
          </div>
        </label>

        <label class="setting-card" for="showQuoteSectionToggle">
  <div class="setting-label">
    <strong class="setting-title">Quote of the Day</strong>
    <p class="setting-description">Show or hide the Quote of the Day section on the homepage.</p>
  </div>
  <div class="md-switch">
    <input type="checkbox" id="showQuoteSectionToggle" role="switch" aria-label="Toggle Quote of the Day Section" />
    <div class="track"><div class="thumb"></div></div>
  </div>
</label>

        <div class="setting-card">
            <div class="setting-label">
                <strong class="setting-title">Reset Visible Sections</strong>
                <p class="setting-description">Make all homepage sections visible again.</p>
            </div>
            <button id="resetSectionsBtn" class="button reset-button">Reset</button>
        </div>
      </div>

      <div class="settings-subsection animate-slide-in">
  <h2 class="subsection-title">Accessibility</h2>

  <div class="setting-card">
    <label for="text-size-slider" class="setting-label">
      <strong class="setting-title">Text Size</strong>
      <p class="setting-description">Adjust the text size for better readability</p>
    </label>
    <div class="text-size-control">
      <span id="textSizeValue" class="font-size-badge">17px</span>
      <input
        type="range"
        id="text-size-slider"
        min="12"
        max="24"
        value="17"
        step="1"
        aria-label="Adjust text size"
      />
    </div>
  </div>

  <label class="setting-card focus-outline-setting-card" for="focusOutlineToggle">
    <div class="setting-label">
      <strong class="setting-title">Focus Outline</strong>
      <p class="setting-description">Toggle the focus outline for accessibility purposes</p>
    </div>
    <div class="md-switch">
      <input type="checkbox" id="focusOutlineToggle" role="switch" aria-label="Toggle focus outline" />
      <div class="track"><div class="thumb"></div></div>
    </div>
  </label>

  <label class="setting-card" for="highContrastToggle">
    <div class="setting-label">
      <strong class="setting-title">High Contrast Mode</strong>
      <p class="setting-description">Increase contrast for easier readability.</p>
    </div>
    <div class="md-switch">
      <input type="checkbox" id="highContrastToggle" role="switch" aria-label="Toggle high contrast mode" />
      <div class="track"><div class="thumb"></div></div>
    </div>
  </label>

  <label class="setting-card" for="dyslexiaFontToggle">
    <div class="setting-label">
      <strong class="setting-title">Dyslexia-Friendly Font</strong>
      <p class="setting-description">Enable a more readable font for dyslexic users.</p>
    </div>
    <div class="md-switch">
      <input type="checkbox" id="dyslexiaFontToggle" role="switch" aria-label="Toggle dyslexia-friendly font" />
      <div class="track"><div class="thumb"></div></div>
    </div>
  </label>

  <label class="setting-card" for="underlineLinksToggle">
    <div class="setting-label">
      <strong class="setting-title">Underline Links</strong>
      <p class="setting-description">Always underline links to improve visibility.</p>
    </div>
    <div class="md-switch">
      <input type="checkbox" id="underlineLinksToggle" role="switch" aria-label="Toggle underline links" />
      <div class="track"><div class="thumb"></div></div>
    </div>
  </label>
</div>
      
      <div class="settings-subsection animate-slide-in">
        <h2 class="subsection-title">Visual Flair</h2>

        <label class="setting-card" for="mouseTrailToggle">
          <div class="setting-label">
            <strong class="setting-title">Mouse Trail Effect</strong>
            <p class="setting-description">Add a subtle glowing ripple that follows your cursor.</p>
          </div>
          <div class="md-switch">
            <input type="checkbox" id="mouseTrailToggle" role="switch" aria-label="Toggle mouse trail effect" />
            <div class="track"><div class="thumb"></div></div>
          </div>
        </label>
      </div>

      <div class="settings-subsection danger-zone animate-slide-in">
        <h2 class="subsection-title">Danger Zone</h2>
        <div class="setting-card">
          <div class="setting-label">
            <strong class="setting-title">Reset to Factory Settings</strong>
            <p class="setting-description">Restore all settings to their default values</p>
          </div>
          <button id="resetSettings" class="button reset-button">Reset</button>
        </div>
      </div>

      <div class="back-link-container">
        <a href="/" class="back-link">
          <span class="back-icon">←</span>
          <span>Back to Profile</span>
        </a>
      </div>
    </div>
  </main>

  <footer class="settings-footer">
    <div class="footer-content">
      <p>© <span id="year"></span> Caleb Kritzar. All Rights Reserved.</p>
      <div class="footer-links">
        <a href="privacy-policy.html">Privacy Policy</a>
        <a href="terms-of-service.html">Terms of Service</a>
        <a href="accessibility-statement.html">Accessibility Statement</a>
      </div>
    </div>
  </footer>

  <div id="mouse-trail"></div>

  <script src="settings.js"></script>
  <script src="script.js"></script>
<nav class="ios26-toolbar" id="ios26-toolbar">
  <div class="active-pill" id="active-pill" aria-hidden="true"></div>

  <a href="index.html" class="toolbar-item" data-color="#007aff">
    <i class="fa-solid fa-house"></i>
    <span>Home</span>
  </a>

  <a href="blog.html" class="toolbar-item" data-color="#e63946">
    <i class="fa-solid fa-pen-nib"></i>
    <span>Blog</span>
  </a>

  <a href="merchandise.html" class="toolbar-item" data-color="#ff9500">
    <i class="fa-solid fa-bag-shopping"></i>
    <span>Merch</span>
  </a>

  <a href="settings.html" class="toolbar-item" data-color="#34c759">
    <i class="fa-solid fa-gear"></i>
    <span>Settings</span>
  </a>
</nav>
    
<script>
const bar = document.getElementById("ios26-toolbar");
const items = [...bar.querySelectorAll(".toolbar-item")];
const pill = document.getElementById("active-pill");

let active = items.find(i => i.href === location.href) || items[0];
let dragging = false, lastY = window.scrollY;

/* tint + spacing logic */
function tint(el) {
  el.style.setProperty("--tint", el.dataset.color);
}

/* dynamically calculate capsule size & offset */
function movePill(el, stretch = 1, instant = false) {
  const iconRect = el.querySelector("i").getBoundingClientRect();
  const textRect = el.querySelector("span").getBoundingClientRect();
  const parentRect = bar.getBoundingClientRect();

  const sidePadding = 14;   // space inside capsule around icon+label
  const edgeMargin = 6;     // distance from dock’s sides

  const leftEdge = Math.min(iconRect.left, textRect.left);
  const rightEdge = Math.max(iconRect.right, textRect.right);
  const width = (rightEdge - leftEdge) + sidePadding * 2;
  const left = (leftEdge - parentRect.left) - sidePadding;

  if (instant) pill.style.transition = "none";
  pill.style.left = `${left + edgeMargin}px`;
  pill.style.width = `${width - edgeMargin * 2}px`;

  if (instant)
    requestAnimationFrame(() =>
      pill.style.transition =
        "left .35s cubic-bezier(.25,1,.5,1), width .35s cubic-bezier(.25,1,.5,1)"
    );
}

/* Initialize */
items.forEach(tint);
active.classList.add("active");
movePill(active, 1, true);

/* Scroll hide (optional) */
window.addEventListener("scroll", () => {
  if (window.scrollY > lastY && window.scrollY > 100)
    bar.classList.add("hide");
  else bar.classList.remove("hide");
  lastY = window.scrollY;
});

/* Drag and pointer logic */
items.forEach(item => {
  item.addEventListener("pointerdown", () => {
    dragging = true;
    items.forEach(i => i.classList.remove("drag-over"));
    item.classList.add("drag-over");
    movePill(item, 1.1, true);
  });
  item.addEventListener("pointerenter", () => {
    if (!dragging) return;
    items.forEach(i => i.classList.remove("drag-over"));
    item.classList.add("drag-over");
    movePill(item, 1.15, true);
  });
  item.addEventListener("pointerup", finalize);
});

window.addEventListener("pointermove", e => {
  if (!dragging) return;
  const stretch = 1 + Math.min(Math.abs(e.movementX) / 22, 0.25);
  movePill(document.querySelector(".toolbar-item.drag-over") || active, stretch, true);
});

window.addEventListener("pointerup", finalize);

function finalize() {
  if (!dragging) return;
  dragging = false;
  const target = document.querySelector(".toolbar-item.drag-over") || active;
  items.forEach(i => i.classList.remove("drag-over", "active"));
  target.classList.add("active");
  active = target;
  movePill(active, 1);
  tint(active);
  setTimeout(() => (window.location.href = active.href), 160);
}
</script>
</body>
</html>
