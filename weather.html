<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Weather</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- Use your global theme (settings.js controls light/dark variables) -->
  <link rel="stylesheet" href="style.css" />
  <link rel="stylesheet" href="weather.css" />
</head>
<body>

  <section class="section weather-shell" data-section-id="weather-page">
    <header class="wx-top">
      <div class="wx-title">
        <h1>Weather</h1>
        <p class="wx-sub">City, ZIP, or postal code. Full app vibes. Free-plan safe.</p>
      </div>

      <div class="wx-actions">
        <button class="wx-btn wx-btn-ghost" id="geoBtn" type="button">Use my location</button>

        <div class="wx-toggle" role="group" aria-label="Units">
          <button class="wx-toggle-btn is-on" id="unitF" type="button">°F</button>
          <button class="wx-toggle-btn" id="unitC" type="button">°C</button>
        </div>

        <div class="wx-chip" id="statusChip">Ready</div>
      </div>
    </header>

    <div class="wx-search-wrap">
      <div class="wx-search">
        <input id="cityInput" type="text" placeholder="Search… (ex: 43604, Toledo, London)" autocomplete="off" />
        <button class="wx-btn" id="searchBtn" type="button">Search</button>
      </div>
      <div id="suggestions" class="wx-suggestions hidden" role="listbox"></div>
      <p id="weather-error" class="wx-error" aria-live="assertive"></p>
    </div>

    <main class="wx-grid">
      <!-- LEFT: NOW -->
      <section class="wx-panel wx-now hidden" id="nowPanel" aria-live="polite">
        <div class="wx-now-head">
          <div>
            <h2 id="wxLocation">—</h2>
            <p class="wx-muted" id="wxLocalTime">—</p>
          </div>
          <button class="wx-star" id="favBtn" type="button" title="Save to favorites" aria-label="Save to favorites">
            ★
          </button>
        </div>

        <div class="wx-now-body">
          <div class="wx-iconbox">
            <img id="wxIcon" alt="" />
          </div>

          <div class="wx-tempbox">
            <div class="wx-temp" id="wxTemp">—</div>
            <div class="wx-cond" id="wxCond">—</div>
            <div class="wx-hilo" id="wxHiLo">—</div>
          </div>
        </div>

        <div class="wx-kpis">
          <div class="wx-kpi">
            <span class="k">Feels</span>
            <span class="v" id="wxFeels">—</span>
          </div>
          <div class="wx-kpi">
            <span class="k">Humidity</span>
            <span class="v" id="wxHumidity">—</span>
          </div>
          <div class="wx-kpi">
            <span class="k">Wind</span>
            <span class="v" id="wxWind">—</span>
          </div>
          <div class="wx-kpi">
            <span class="k">UV</span>
            <span class="v" id="wxUV">—</span>
          </div>
        </div>
      </section>

      <!-- RIGHT: DETAILS -->
      <section class="wx-panel wx-details hidden" id="detailsPanel">
        <h3>Details</h3>

        <div class="wx-detail-grid">
          <div class="wx-detail">
            <span class="k">Pressure</span>
            <span class="v" id="wxPressure">—</span>
          </div>
          <div class="wx-detail">
            <span class="k">Visibility</span>
            <span class="v" id="wxVis">—</span>
          </div>
          <div class="wx-detail">
            <span class="k">Cloud</span>
            <span class="v" id="wxCloud">—</span>
          </div>
          <div class="wx-detail">
            <span class="k">Gust</span>
            <span class="v" id="wxGust">—</span>
          </div>
          <div class="wx-detail">
            <span class="k">Precip</span>
            <span class="v" id="wxPrecip">—</span>
          </div>
          <div class="wx-detail">
            <span class="k">Dew Point</span>
            <span class="v" id="wxDew">—</span>
          </div>
        </div>

        <div class="wx-mini">
          <h4>Favorites</h4>
          <div class="wx-list" id="favList"></div>
        </div>

        <div class="wx-mini">
          <h4>Recent</h4>
          <div class="wx-list" id="recentList"></div>
        </div>
      </section>

      <!-- FULL WIDTH: HOURLY -->
      <section class="wx-panel wx-hourly hidden" id="hourlyPanel">
        <div class="wx-panel-head">
          <h3>Next hours</h3>
          <p class="wx-muted">Free plan safe: pulled from forecast hours.</p>
        </div>
        <div class="wx-hour-strip" id="hourStrip"></div>
      </section>

      <!-- FULL WIDTH: FORECAST -->
      <section class="wx-panel wx-forecast hidden" id="forecastPanel">
        <div class="wx-panel-head">
          <h3>3-day forecast</h3>
          <p class="wx-muted">WeatherAPI free plan supports up to 3 days.</p>
        </div>
        <div class="wx-days" id="dayList"></div>

        <footer class="wx-foot">
          <span id="wxUpdated">—</span>
          <span class="wx-muted">Powered by WeatherAPI.com</span>
        </footer>
      </section>
    </main>
  </section>

  <!-- Your existing theme scripts -->
  <script src="settings.js"></script>
  <script src="script.js"></script>

  <!-- Weather -->
  <script src="weather.js"></script>
</body>
</html>
